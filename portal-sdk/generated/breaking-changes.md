# Breaking Changes since 9/3/2019 
* Additional Q&A about breaking changes can be found [here](./breaking-changes.md) 
* To ask a question about breaking changes [use this](https://aka.ms/ask/ibiza-breaking-change)  


## 5.0.303.221
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5773699'>5773699</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5773699'>Update TypeScript compiler to 3.5</a><p><br></span><div><br></div><div>Expected Errors:<br></div><div><br></div><div>- Partner code might see some type usage errors due new a newer version of TypeScript in use.<br></div><div><br></div><div>Solution:<br></div><div><br></div><div>- If you see errors, these are typically because newer versions of TypeScript are typically better at inferring complex expressions. The recommendation is that you evaluate each, as they might uncover subtle bugs that would require runtime fixes. In some other cases it's just a matter of being a little more explicit about the types in use (for example, add type assertions or define the types for arrow functions or generics, etc). There aren't many breaking changes in TypeScript itself from version 3.3 to 3.5, but read the breaking changes and announcement articles to see why some new errors would surface, and also start benefiting of the new functionality:<br></div><div>- https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#typescript-35<br></div><div>- https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-5.html<br></div><div>- https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-4.html<br></div><div><br></div><div>Reason For Breaking Change<br></div><div><br></div><div>- Be able to leverage better tooling for improved syntax and type inferrence, as well as better compilation performance.<br></div><div><br></div><span></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5687651'>5687651</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5687651'>Update libraries to .NET Core compatible versions</a><p></span></div><div><span><br></span></div><div><span>**Expected errors**</span></div><div>Portal SDK has updated the version of PowerArgs (now 3.6.0) and Newtonsoft.Json (now 12.0.2).</div><div><br></div><div><span>**Reason for breaking change**</span></div><div><span>New versions are more secure and provide more functionality.</span></div><div><span><br></span></div><div><span>**Solution**</span></div><div><span>If you are also referencing these libraries, and compiling your solution produces assembly binding errors, either update your own version to match the Portal SDK, or use assembly redirects in your web.config.</span></div><div><span><br></span></div><div><span></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5681635'>5681635</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5681635'>Selenium and Newtonsoft.Json package updates</a><p>No description available for this breaking change.</p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5671047'>5671047</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5671047'>Add sample axe-core tests to the framework suite</a><p></div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;">Expected Errors:<br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;"><span style="box-sizing:border-box;"><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- The following warning is shown at build time due to the Newtonsoft.Json update from 11.0.1 to 12.0.2</div><div style="box-sizing:border-box;"><br></div><div style="box-sizing:border-box;"><span>warnin</span><span>g MSB3247: Found conflicts between different versions of the same dependent assembly. In Visual Studio, double-click th</span><span>is warning (or select it and press Enter) to fix the conflicts; otherwise, add the following binding redirects to the &quot;</span><span>runtime&quot; node in the application configuration file:</span></div><div style="box-sizing:border-box;"><span><br></span></div><div style="box-sizing:border-box;"><span>```xml</span></div><div style="box-sizing:border-box;"><span><br></span></div><div style="box-sizing:border-box;"><span>&lt;assemblyBinding xmlns=&quot;urn:schemas-microsoft-com:asm.v1&quot;&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &lt;depende</span><span>ntAssembly&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &nbsp; &lt;assemblyIdentity name=&quot;Newtonsoft.Json&quot; culture=&quot;neutral&quot; publicKeyToken=&quot;30ad4fe6b2a6aeed&quot; /&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &nbsp; &lt;bindingRedir</span><span>ect oldVersion=&quot;0.0.0.0-12.0.0.0&quot; newVersion=&quot;12.0.0.0&quot; /&gt;</span></div><div style="box-sizing:border-box;"><span>&nbsp; &lt;/dependentAssembly&gt;</span></div><div style="box-sizing:border-box;"><span>&lt;/assemblyBinding&gt;</span><br></div><div style="box-sizing:border-box;"><br></div><div style="box-sizing:border-box;">```</div><div style="box-sizing:border-box;"><br></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Solution:</span></div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- Either change your project dependency to use the new Newtonsoft.Json version in your csproj, or use the assemblyBinding config option shown in the warning above.</div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Reason For Breaking Change</span></div><div style="box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- We updated our dependency for Newtonsoft.Json as part of adding Accessibility Testing support to the CSharp Test Framework.</div></span></span></div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5605250'>5605250</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5605250'>Update new Node LTS v12</a><p></span><br></div><div><br></div><div>**Expected Errors:**</div><div><br></div><div>- There is no expected errors but you may want to update your local Node.js version to v12.13.1 and install node_modules again after the version update.</div><div><br></div><div>**Solution:**</div><div><br></div><div>- Remove existing node_modules directory and run &quot;npm i&quot;</div><div><br></div><div>**Reason For Breaking Change**</div><div><br></div><div>- Node.js v12 is active LTS version</div><div>-&nbsp;<a href="https://nodejs.org/en/about/releases/">https://nodejs.org/en/about/releases/</a></div><div><br></div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5468096'>5468096</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5468096'>Update Portal repo to .NET 4.7.2 / Guest OS Windows Server 2019 / Visual Studio 2019</a><p></span></div><div><span><br></span></div><div><span>REASON FOR BREAKING CHANGE:</span></div><div><span><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"></span></div></span><div style="box-sizing:border-box;"><span><span style="box-sizing:border-box;">Portal has been upgraded to .NET 4.7.2</span></span></div><div style="box-sizing:border-box;"><span><br></span></div></div><div><span>EXPECTED ERRORS:</span></div><div><span>&nbsp;- Compilation may fail unless depending projects are also upgraded to .NET 4.7.2.</span></div><div><span>&nbsp;- If Portal SDK is used inside of a cloud service (i.e. a backend that isn't the Extension Hosting Service) the osFamily of the cloud service may have to be upgraded to &quot;6&quot; since that family comes with .NET 4.7.2 installed by default. This may necessitate upgrading the Azure SDK used by the cloud service to 3.0+.</span></div><div><span>&nbsp;- Projects may fail to open in VS 2015/2017 after upgrading the version of .NET to 4.7.2.</span></div><div><br></div><div>SOLUTION:</div><div>&nbsp;- Upgrade any projects that depend on .NET components in the Portal SDK to .NET 4.7.2.</div><div>&nbsp;- Upgrade any cloud services that host the Portal SDK to Windows Server 2019 (aka osFamily=&quot;6&quot;). This may require upgrading the Azure SDK used by the cloud service to 3.0+.</div><div>&nbsp;- If projects in the SDK fail to open in VS 2015/2017, upgrade to VS 2019.</div><div><span><br></span></div><div><span></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5311678'>5311678</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5311678'>Cleanup Small size CheckBox</a><p></div><div><ul><li>The `boxSize` field of the Fx CheckBox and TriStateCheckBox API <span style="background-color:rgb(255, 255, 255);display:inline !important;">along with its BoxSize enum are&nbsp;</span>getting deprecated.</li><li>Please transition your blade design to stop using small checkBoxes.</li><li>All Fx CheckBoxes will be regular sized.</li><li>The rationale behind this change is alignment with Fabric UI, which does not offer a small checkBox.</li></ul></div><div><span style="background-color:rgb(255, 255, 255);display:inline !important;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4949033'>4949033</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4949033'>[RadioButtons] Allow HtmlContent in text for items</a><p></div><div></div><div><ul><li>This change enriches the `text` option of the `RadioButtons` `Item`-s to accept `HtmlContent` too, where it previously only accepted string text.</li><li>Consequently with this change, partners who are dereferencing the `text` field of `RadioButtons` `Item`-s would need to use a constant or variable of type `string | HtmlContent`</li></ul></div><div><span style="display:inline !important;"></p></td></tr></table>

## 5.0.302.49101
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5334381'>5334381</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5334381'>Remove extension home dependency on ExtensionIndexModel</a><p>No description available for this breaking change.</p></td></tr></table>

## 5.0.302.44401
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5196426'>5196426</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=5196426'>Use latest version of AjaxMin</a><p></div><div style="box-sizing:border-box;color:rgba(0, 0, 0, 0.9);margin-bottom:0px;margin-top:0px;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;color:rgba(0, 0, 0, 0.9);margin-bottom:0px;margin-top:0px;">Expected Errors:<br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;color:rgba(0, 0, 0, 0.9);margin-bottom:0px;margin-top:0px;"><span style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><span style="box-sizing:border-box;"><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- <span style="box-sizing:border-box;">System.IO.FileNotFoundException: Could not load file or assembly 'AjaxMin, Version=5.14.5506.26196, Culture=neutral, PublicKeyToken=21ef50ce11b5d80f' or one of its dependencies. The system cannot find the file specified.<br style="box-sizing:border-box;"></span><div style="box-sizing:border-box;">File name: 'AjaxMin, Version=5.14.5506.26196, Culture=neutral, PublicKeyToken=21ef50ce11b5d80f'â€‹</div><span style="box-sizing:border-box;">WRN: Assembly binding logging is turned OFF.</span></div><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><br style="box-sizing:border-box;"></div><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><span style="box-sizing:border-box;">Solution:</span></div><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- If you receive this error, change your WebGrease dependency to AjaxMin. The dependency is in the Microsoft.Portal.Tools nuget package.</div><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;"></div><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><span style="box-sizing:border-box;">Reason For Breaking Change</span></div><div style="background-color:rgb(255, 255, 255);box-sizing:border-box;"><b style="box-sizing:border-box;"></b><br style="box-sizing:border-box;">- The portal SDK changes upgraded its WebGrease dependency to the latest AjaxMin.</div></span></span></div><div style="box-sizing:border-box;color:rgba(0, 0, 0, 0.9);margin-bottom:0px;margin-top:0px;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;color:rgba(0, 0, 0, 0.9);margin-bottom:0px;margin-top:0px;"></p></td></tr></table>

## 5.0.302.42201
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4817235'>4817235</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4817235'>ReactBlades</a><p></div><div><br></div><div>**Expected Errors:**</div><div>For consumers of Az ambient (non-AMD) typings, you may see a &quot;property does not exist&quot; error on your usage of Az functionality.</div><div><br></div><div>**Solution:**</div><div>Add the following TypeScript line at the top of your file;</div><div>const Az = window.Az;</div><div><br></div><div>**Reason For Breaking Change**</div><div><div style="box-sizing:border-box;">This is due to the fact that Az typings have been split into a namespace and an interface, and TS's global namespace declaration completely shadows the window.Az declared property instead of merging it.&nbsp; Typings have been split this way so that the namespace contains all the types/interfaces and the interface contains all the methods, allowing us to selectively have the window property accessible (true for Az development, false for ReactBlade development).</div></div><div><br></div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4223524'>4223524</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=4223524'>Upgrade solutions to .NET Framework 4.6.2</a><p><br></span><div>**Expected Errors:**<br></div><div>- If the the target .NET framework of an extension is smaller to 4.6.2, build errors will be shown.<br></div><div><br></div><div>**Solution:**<br></div><div>Update the target .NET Framework version to 4.6.2 or newer. Make sure the framework is installed in development machines, build agents, etc.<br></div><div><br></div><div>**Reason For Breaking Change:**<br></div><div>As we modernize and improve our tooling, we need to also rely on newer versions of .NET Framework<br></div><span></p></td></tr></table>